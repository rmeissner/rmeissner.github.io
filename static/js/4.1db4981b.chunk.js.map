{"version":3,"sources":["components/OversizedPanel/index.js","assets/images/arrow-down-blue.svg","assets/images/arrow-down-grey.svg","components/AddressInputPanel/index.js","webpack:///./src/assets/images/dropup-blue.svg?5b09","webpack:///./src/assets/images/dropdown-blue.svg?f8bc","components/ContextualInfoNew/index.js","pages/Send/index.js"],"names":["Panel","styled","div","_templateObject","_ref","theme","concreteGray","PanelTop","_templateObject2","_ref2","PanelBottom","_templateObject3","_ref3","OversizedPanel","_ref4","hideTop","hideBottom","children","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","module","exports","__webpack_require__","p","InputPanel","flexColumnNoWrap","lighten","royalBlue","white","ContainerRow","error","salmonRed","mercuryGray","_ref5","InputContainer","LabelRow","_templateObject4","_ref6","flexRowNoWrap","_ref7","doveGray","LabelContainer","_templateObject5","InputRow","_templateObject6","_ref8","Input","input","_templateObject7","_ref9","_ref10","chaliceGray","AddressInputPanel","_ref11","title","_ref11$initialInput","initialInput","_ref11$onChange","onChange","_ref11$onError","onError","t","useTranslation","library","useWeb3Context","_useState","useState","_useState2","Object","_home_rmeissner_repositories_uniswap_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setInput","debouncedInput","useDebounce","_useState3","address","undefined","name","_useState4","data","setData","_useState5","_useState6","setError","useEffect","stale","isAddress","lookupAddress","then","catch","resolveName","react__WEBPACK_IMPORTED_MODULE_2___default","type","autoComplete","autoCorrect","autoCapitalize","spellCheck","placeholder","event","target","value","checksummedInput","_extends","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","react_default","d","stroke","dropup_blue_SvgDropupBlue","svgRef","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","dropdown_blue_extends","dropdown_blue_objectWithoutProperties","dropdown_blue_objectWithoutPropertiesLoose","dropdown_blue_ref2","dropdown_blue_SvgDropdownBlue","dropdown_blue_ForwardRef","SummaryWrapper","SummaryWrapperContainer","Details","ErrorSpan","span","isError","slippageWarning","highSlippageWarning","css","transparentize","warningYellow","ColoredDropup","rest","objectWithoutProperties","_templateObject8","ColoredDropdown","_templateObject9","_ref12","_templateObject10","ContextualInfo","_ref13","_ref13$openDetailsTex","openDetailsText","_ref13$closeDetailsTe","closeDetailsText","_ref13$contextualInfo","contextualInfo","_ref13$allowExpand","allowExpand","_ref13$renderTransact","renderTransactionDetails","_ref13$isError","slicedToArray","showDetails","setShowDetails","Fragment","onClick","s","role","aria-label","INPUT","OUTPUT","ETH_TO_TOKEN","TOKEN_TO_ETH","TOKEN_TO_TOKEN","ALLOWED_SLIPPAGE","ethers","utils","bigNumberify","TOKEN_ALLOWED_SLIPPAGE","DEADLINE_FROM_NOW","GAS_MARGIN","BlueSpan","DownArrowBackground","DownArrow","img","clickable","LastSummaryText","ExchangeRateWrapper","ExchangeRate","Flex","calculateEtherTokenOutputFromInput","inputAmount","inputReserve","outputReserve","inputAmountWithFee","mul","numerator","denominator","add","calculateEtherTokenInputFromOutput","outputAmount","sub","constants","One","initialSwapState","independentValue","dependentValue","independentField","inputCurrency","outputCurrency","swapStateReducer","state","action","_home_rmeissner_repositories_uniswap_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_4__","_action$payload","payload","field","currency","newInputCurrency","newOutputCurrency","_action$payload2","getExchangeRate","inputValue","inputDecimals","outputValue","outputDecimals","invert","factor","pow","_unused","Swap","account","addTransaction","useTransactionAdder","ReactGA","pageview","window","location","pathname","search","_useReducer","useReducer","_useReducer2","_home_rmeissner_repositories_uniswap_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","swapState","dispatchSwapState","recipient","setRecipient","recipientError","setRecipientError","swapType","getSwapType","_useTokenDetails","useTokenDetails","inputSymbol","symbol","decimals","inputExchangeAddress","exchangeAddress","_useTokenDetails2","outputSymbol","outputExchangeAddress","inputExchangeContract","useExchangeContract","outputExchangeContract","contract","inputAllowance","useAddressAllowance","_useExchangeReserves","useExchangeReserves","inputReserveETH","reserveETH","inputReserveToken","reserveToken","_useExchangeReserves2","outputReserveETH","outputReserveToken","inputBalance","useAddressBalance","outputBalance","inputBalanceFormatted","Number","isInteger","amountFormatter","Math","min","outputBalanceFormatted","independentDecimals","dependentDecimals","independentValueParsed","setIndependentValueParsed","dependentValueFormatted","inputValueParsed","inputValueFormatted","outputValueParsed","outputValueFormatted","_useState7","_useState8","independentError","setIndependentError","parsedValue","parseUnits","lte","Zero","gte","MaxUint256","Error","_unused3","_calculateSlippageBou","token","offset","minimum","maximum","lt","gt","calculateSlippageBounds","dependentValueMinumum","dependentValueMaximum","_useState9","_useState10","inputError","setInputError","_useState11","_useState12","showUnlock","setShowUnlock","inputValueCalculation","amount","calculatedDependentValue","_unused4","_unused5","reserveETHFirst","reserveTokenFirst","reserveETHSecond","reserveTokenSecond","intermediateValue","_unused6","_useState13","_useState14","inverted","setInverted","exchangeRate","exchangeRateInverted","marketRate","firstRate","secondRate","_unused2","getMarketRate","percentSlippage","abs","percentSlippageFormatted","parseEther","isValid","estimatedText","concat","formatBalance","category","b","text","react__WEBPACK_IMPORTED_MODULE_6___default","_onSwap","_home_rmeissner_repositories_uniswap_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_rmeissner_repositories_uniswap_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","deadline","estimate","method","args","estimatedGasLimit","wrap","_context","prev","next","ceil","Date","now","ethToTokenTransferInput","tokenToEthTransferInput","tokenToTokenTransferInput","ethToTokenTransferOutput","tokenToEthTransferOutput","tokenToTokenTransferOutput","_home_rmeissner_repositories_uniswap_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","sent","gasLimit","calculateGasMargin","response","stop","_components_CurrencyInputPanel__WEBPACK_IMPORTED_MODULE_13__","description","extraText","extraTextClickHander","valueToSet","onCurrencySelected","onValueChange","selectedTokens","selectedTokenAddress","errorMessage","_components_OversizedPanel__WEBPACK_IMPORTED_MODULE_15__","alt","src","ArrowDownBlue","ArrowDownGrey","disableUnlock","_components_AddressInputPanel__WEBPACK_IMPORTED_MODULE_16__","slippageWarningText","_components_ContextualInfoNew__WEBPACK_IMPORTED_MODULE_14__","renderSummary","_theme__WEBPACK_IMPORTED_MODULE_12__","disabled","warning"],"mappings":"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","file":"static/js/4.1db4981b.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\n\nconst Panel = styled.div`\n  position: relative;\n  background-color: ${({ theme }) => theme.concreteGray};\n  width: calc(100% - 1rem);\n  margin: 0 auto;\n  border-radius: 0.625rem;\n`\n\nconst PanelTop = styled.div`\n  content: '';\n  position: absolute;\n  top: -0.5rem;\n  left: 0;\n  height: 1rem;\n  width: 100%;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nconst PanelBottom = styled.div`\n  position: absolute;\n  top: 80%;\n  left: 0;\n  height: 1rem;\n  width: 100%;\n  background-color: ${({ theme }) => theme.concreteGray};\n`\n\nexport default function OversizedPanel({ hideTop, hideBottom, children }) {\n  return (\n    <Panel>\n      {hideTop || <PanelTop />}\n      {children}\n      {hideBottom || <PanelBottom />}\n    </Panel>\n  )\n}\n","module.exports = __webpack_public_path__ + \"static/media/arrow-down-blue.cd061363.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-down-grey.c0dedd2f.svg\";","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'react-i18next'\nimport { useWeb3Context } from 'web3-react'\nimport { lighten } from 'polished'\n\nimport { isAddress } from '../../utils'\nimport { useDebounce } from '../../hooks'\n\nconst InputPanel = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  box-shadow: 0 4px 8px 0 ${({ theme }) => lighten(0.9, theme.royalBlue)};\n  position: relative;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.white};\n  z-index: 1;\n`\n\nconst ContainerRow = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1.25rem;\n  box-shadow: 0 0 0 0.5px ${({ error, theme }) => (error ? theme.salmonRed : theme.mercuryGray)};\n  background-color: ${({ theme }) => theme.white};\n  transition: box-shadow 200ms ease-in-out;\n`\n\nconst InputContainer = styled.div`\n  flex: 1;\n`\n\nconst LabelRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  line-height: 1rem;\n  padding: 0.75rem 1rem;\n`\n\nconst LabelContainer = styled.div`\n  flex: 1 1 auto;\n  width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst InputRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  padding: 0.25rem 0.85rem 0.75rem;\n`\n\nconst Input = styled.input`\n  font-size: 1rem;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  width: 0;\n  color: ${({ error, theme }) => (error ? theme.salmonRed : theme.royalBlue)};\n  transition: color 200ms ease-in-out;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ::placeholder {\n    color: ${({ theme }) => theme.chaliceGray};\n  }\n`\n\nexport default function AddressInputPanel({ title, initialInput = '', onChange = () => {}, onError = () => {} }) {\n  const { t } = useTranslation()\n\n  const { library } = useWeb3Context()\n\n  const [input, setInput] = useState(initialInput)\n  const debouncedInput = useDebounce(input, 150)\n\n  const [data, setData] = useState({ address: undefined, name: undefined })\n  const [error, setError] = useState(false)\n\n  // keep data and errors in sync\n  useEffect(() => {\n    onChange({ address: data.address, name: data.name })\n  }, [onChange, data.address, data.name])\n  useEffect(() => {\n    onError(error)\n  }, [onError, error])\n\n  // run parser on debounced input\n  useEffect(() => {\n    let stale = false\n\n    if (isAddress(debouncedInput)) {\n      library\n        .lookupAddress(debouncedInput)\n        .then(name => {\n          if (!stale) {\n            // if an ENS name exists, set it as the destination\n            if (name) {\n              setInput(name)\n            } else {\n              setData({ address: debouncedInput, name: '' })\n              setError(null)\n            }\n          }\n        })\n        .catch(() => {\n          setData({ address: debouncedInput, name: '' })\n          setError(null)\n        })\n    } else {\n      if (debouncedInput !== '') {\n        library\n          .resolveName(debouncedInput)\n          .then(address => {\n            if (!stale) {\n              // if the debounced input name resolves to an address\n              if (address) {\n                setData({ address: address, name: debouncedInput })\n                setError(null)\n              } else {\n                setError(true)\n              }\n            }\n          })\n          .catch(() => {\n            setError(true)\n          })\n      }\n    }\n\n    return () => {\n      stale = true\n    }\n  }, [debouncedInput, library, onChange, onError])\n\n  function onInput(event) {\n    if (data.address !== undefined || data.name !== undefined) {\n      setData({ address: undefined, name: undefined })\n    }\n    if (error !== undefined) {\n      setError()\n    }\n    const input = event.target.value\n    const checksummedInput = isAddress(input)\n    setInput(checksummedInput || input)\n  }\n\n  return (\n    <InputPanel>\n      <ContainerRow error={input !== '' && error}>\n        <InputContainer>\n          <LabelRow>\n            <LabelContainer>\n              <span>{title || t('recipientAddress')}</span>\n            </LabelContainer>\n          </LabelRow>\n          <InputRow>\n            <Input\n              type=\"text\"\n              autoComplete=\"off\"\n              autoCorrect=\"off\"\n              autoCapitalize=\"off\"\n              spellCheck=\"false\"\n              placeholder=\"0x1234...\"\n              error={input !== '' && error}\n              onChange={onInput}\n              value={input}\n            />\n          </InputRow>\n        </InputContainer>\n      </ContainerRow>\n    </InputPanel>\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M11.4673 6L6.23364 1L0.999995 6\",\n  stroke: \"#388DFF\"\n});\n\nvar SvgDropupBlue = function SvgDropupBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropupBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropup-blue.b96d70e1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0.97168 1L6.20532 6L11.439 1\",\n  stroke: \"#2F80ED\"\n});\n\nvar SvgDropdownBlue = function SvgDropdownBlue(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 7,\n    viewBox: \"0 0 12 7\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgDropdownBlue, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/dropdown-blue.b20914ec.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\nimport styled, { css } from 'styled-components'\nimport { transparentize } from 'polished'\n\nimport { ReactComponent as Dropup } from '../../assets/images/dropup-blue.svg'\nimport { ReactComponent as Dropdown } from '../../assets/images/dropdown-blue.svg'\n\nconst SummaryWrapper = styled.div`\n  color: ${({ error, theme }) => (error ? theme.salmonRed : theme.doveGray)};\n  font-size: 0.75rem;\n  text-align: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n`\n\nconst SummaryWrapperContainer = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  color: ${({ theme }) => theme.royalBlue};\n  text-align: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n\n  img {\n    height: 0.75rem;\n    width: 0.75rem;\n  }\n`\n\nconst Details = styled.div`\n  background-color: ${({ theme }) => theme.concreteGray};\n  padding: 1.5rem;\n  border-radius: 1rem;\n  font-size: 0.75rem;\n  margin-top: 1rem;\n`\n\nconst ErrorSpan = styled.span`\n  margin-right: 12px;\n  font-size: 0.75rem;\n  line-height: 0.75rem;\n\n  color: ${({ isError, theme }) => isError && theme.salmonRed};\n  ${({ slippageWarning, highSlippageWarning, theme }) =>\n    highSlippageWarning\n      ? css`\n          color: ${theme.salmonRed};\n          font-weight: 600;\n        `\n      : slippageWarning &&\n        css`\n          background-color: ${transparentize(0.6, theme.warningYellow)};\n          font-weight: 600;\n          padding: 0.25rem;\n        `}\n`\n\nconst WrappedDropup = ({ isError, highSlippageWarning, ...rest }) => <Dropup {...rest} />\nconst ColoredDropup = styled(WrappedDropup)`\n  path {\n    stroke: ${({ isError, theme }) => isError && theme.salmonRed};\n\n    ${({ highSlippageWarning, theme }) =>\n      highSlippageWarning &&\n      css`\n        stroke: ${theme.salmonRed};\n      `}\n  }\n`\n\nconst WrappedDropdown = ({ isError, highSlippageWarning, ...rest }) => <Dropdown {...rest} />\nconst ColoredDropdown = styled(WrappedDropdown)`\n  path {\n    stroke: ${({ isError, theme }) => isError && theme.salmonRed};\n\n    ${({ highSlippageWarning, theme }) =>\n      highSlippageWarning &&\n      css`\n        stroke: ${theme.salmonRed};\n      `}\n  }\n`\n\nexport default function ContextualInfo({\n  openDetailsText = 'Transaction Details',\n  closeDetailsText = 'Hide Details',\n  contextualInfo = '',\n  allowExpand = false,\n  renderTransactionDetails = () => {},\n  isError = false,\n  slippageWarning,\n  highSlippageWarning\n}) {\n  const [showDetails, setShowDetails] = useState(false)\n\n  return !allowExpand ? (\n    <SummaryWrapper>{contextualInfo}</SummaryWrapper>\n  ) : (\n    <>\n      <SummaryWrapperContainer onClick={() => setShowDetails(s => !s)}>\n        <>\n          <ErrorSpan isError={isError} slippageWarning={slippageWarning} highSlippageWarning={highSlippageWarning}>\n            {(slippageWarning || highSlippageWarning) && (\n              <span role=\"img\" aria-label=\"warning\">\n                ⚠️\n              </span>\n            )}\n            {contextualInfo ? contextualInfo : showDetails ? closeDetailsText : openDetailsText}\n          </ErrorSpan>\n          {showDetails ? (\n            <ColoredDropup isError={isError} highSlippageWarning={highSlippageWarning} />\n          ) : (\n            <ColoredDropdown isError={isError} highSlippageWarning={highSlippageWarning} />\n          )}\n        </>\n      </SummaryWrapperContainer>\n      {showDetails && <Details>{renderTransactionDetails()}</Details>}\n    </>\n  )\n}\n","import React, { useState, useReducer, useEffect } from 'react'\nimport ReactGA from 'react-ga'\nimport { useTranslation } from 'react-i18next'\nimport { useWeb3Context } from 'web3-react'\nimport { ethers } from 'ethers'\nimport styled from 'styled-components'\n\nimport { Button } from '../../theme'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport NewContextualInfo from '../../components/ContextualInfoNew'\nimport OversizedPanel from '../../components/OversizedPanel'\nimport AddressInputPanel from '../../components/AddressInputPanel'\nimport ArrowDownBlue from '../../assets/images/arrow-down-blue.svg'\nimport ArrowDownGrey from '../../assets/images/arrow-down-grey.svg'\nimport { isAddress, amountFormatter, calculateGasMargin } from '../../utils'\nimport { useExchangeContract } from '../../hooks'\nimport { useTokenDetails } from '../../contexts/Tokens'\nimport { useTransactionAdder } from '../../contexts/Transactions'\nimport { useAddressBalance, useExchangeReserves } from '../../contexts/Balances'\nimport { useAddressAllowance } from '../../contexts/Allowances'\n\nconst INPUT = 0\nconst OUTPUT = 1\n\nconst ETH_TO_TOKEN = 0\nconst TOKEN_TO_ETH = 1\nconst TOKEN_TO_TOKEN = 2\n\n// denominated in bips\nconst ALLOWED_SLIPPAGE = ethers.utils.bigNumberify(200)\nconst TOKEN_ALLOWED_SLIPPAGE = ethers.utils.bigNumberify(400)\n\n// denominated in seconds\nconst DEADLINE_FROM_NOW = 60 * 15\n\n// denominated in bips\nconst GAS_MARGIN = ethers.utils.bigNumberify(1000)\n\nconst BlueSpan = styled.span`\n  color: ${({ theme }) => theme.royalBlue};\n`\n\nconst DownArrowBackground = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: center;\n  align-items: center;\n`\n\nconst DownArrow = styled.img`\n  width: 0.625rem;\n  height: 0.625rem;\n  position: relative;\n  padding: 0.875rem;\n  cursor: ${({ clickable }) => clickable && 'pointer'};\n`\n\nconst LastSummaryText = styled.div`\n  margin-top: 1rem;\n`\n\nconst ExchangeRateWrapper = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  color: ${({ theme }) => theme.doveGray};\n  font-size: 0.75rem;\n  padding: 0.5rem 1rem;\n`\n\nconst ExchangeRate = styled.span`\n  flex: 1 1 auto;\n  width: 0;\n  color: ${({ theme }) => theme.chaliceGray};\n`\n\nconst Flex = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 2rem;\n\n  button {\n    max-width: 20rem;\n  }\n`\n\nfunction calculateSlippageBounds(value, token = false) {\n  if (value) {\n    const offset = value.mul(token ? TOKEN_ALLOWED_SLIPPAGE : ALLOWED_SLIPPAGE).div(ethers.utils.bigNumberify(10000))\n    const minimum = value.sub(offset)\n    const maximum = value.add(offset)\n    return {\n      minimum: minimum.lt(ethers.constants.Zero) ? ethers.constants.Zero : minimum,\n      maximum: maximum.gt(ethers.constants.MaxUint256) ? ethers.constants.MaxUint256 : maximum\n    }\n  } else {\n    return {}\n  }\n}\n\nfunction getSwapType(inputCurrency, outputCurrency) {\n  if (!inputCurrency || !outputCurrency) {\n    return null\n  } else if (inputCurrency === 'ETH') {\n    return ETH_TO_TOKEN\n  } else if (outputCurrency === 'ETH') {\n    return TOKEN_TO_ETH\n  } else {\n    return TOKEN_TO_TOKEN\n  }\n}\n\n// this mocks the getInputPrice function, and calculates the required output\nfunction calculateEtherTokenOutputFromInput(inputAmount, inputReserve, outputReserve) {\n  const inputAmountWithFee = inputAmount.mul(ethers.utils.bigNumberify(997))\n  const numerator = inputAmountWithFee.mul(outputReserve)\n  const denominator = inputReserve.mul(ethers.utils.bigNumberify(1000)).add(inputAmountWithFee)\n  return numerator.div(denominator)\n}\n\n// this mocks the getOutputPrice function, and calculates the required input\nfunction calculateEtherTokenInputFromOutput(outputAmount, inputReserve, outputReserve) {\n  const numerator = inputReserve.mul(outputAmount).mul(ethers.utils.bigNumberify(1000))\n  const denominator = outputReserve.sub(outputAmount).mul(ethers.utils.bigNumberify(997))\n  return numerator.div(denominator).add(ethers.constants.One)\n}\n\nconst initialSwapState = {\n  independentValue: '', // this is a user input\n  dependentValue: '', // this is a calculated number\n  independentField: INPUT,\n  inputCurrency: 'ETH',\n  outputCurrency: ''\n}\n\nfunction swapStateReducer(state, action) {\n  switch (action.type) {\n    case 'FLIP_INDEPENDENT': {\n      const { independentField, inputCurrency, outputCurrency } = state\n      return {\n        ...state,\n        dependentValue: '',\n        independentField: independentField === INPUT ? OUTPUT : INPUT,\n        inputCurrency: outputCurrency,\n        outputCurrency: inputCurrency\n      }\n    }\n    case 'SELECT_CURRENCY': {\n      const { inputCurrency, outputCurrency } = state\n      const { field, currency } = action.payload\n\n      const newInputCurrency = field === INPUT ? currency : inputCurrency\n      const newOutputCurrency = field === OUTPUT ? currency : outputCurrency\n\n      if (newInputCurrency === newOutputCurrency) {\n        return {\n          ...state,\n          inputCurrency: field === INPUT ? currency : '',\n          outputCurrency: field === OUTPUT ? currency : ''\n        }\n      } else {\n        return {\n          ...state,\n          inputCurrency: newInputCurrency,\n          outputCurrency: newOutputCurrency\n        }\n      }\n    }\n    case 'UPDATE_INDEPENDENT': {\n      const { field, value } = action.payload\n      return {\n        ...state,\n        independentValue: value,\n        dependentValue: '',\n        independentField: field\n      }\n    }\n    case 'UPDATE_DEPENDENT': {\n      return {\n        ...state,\n        dependentValue: action.payload\n      }\n    }\n    default: {\n      return initialSwapState\n    }\n  }\n}\n\nfunction getExchangeRate(inputValue, inputDecimals, outputValue, outputDecimals, invert = false) {\n  try {\n    if (\n      inputValue &&\n      (inputDecimals || inputDecimals === 0) &&\n      outputValue &&\n      (outputDecimals || outputDecimals === 0)\n    ) {\n      const factor = ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(18))\n\n      if (invert) {\n        return inputValue\n          .mul(factor)\n          .div(outputValue)\n          .mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(outputDecimals)))\n          .div(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(inputDecimals)))\n      } else {\n        return outputValue\n          .mul(factor)\n          .div(inputValue)\n          .mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(inputDecimals)))\n          .div(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(outputDecimals)))\n      }\n    }\n  } catch {}\n}\n\nfunction getMarketRate(\n  swapType,\n  inputReserveETH,\n  inputReserveToken,\n  inputDecimals,\n  outputReserveETH,\n  outputReserveToken,\n  outputDecimals,\n  invert = false\n) {\n  if (swapType === ETH_TO_TOKEN) {\n    return getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals, invert)\n  } else if (swapType === TOKEN_TO_ETH) {\n    return getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18, invert)\n  } else if (swapType === TOKEN_TO_TOKEN) {\n    const factor = ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(18))\n    const firstRate = getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18)\n    const secondRate = getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals)\n    try {\n      return !!(firstRate && secondRate) ? firstRate.mul(secondRate).div(factor) : undefined\n    } catch {}\n  }\n}\n\nexport default function Swap() {\n  const { t } = useTranslation()\n  const { account } = useWeb3Context()\n\n  const addTransaction = useTransactionAdder()\n\n  // analytics\n  useEffect(() => {\n    ReactGA.pageview(window.location.pathname + window.location.search)\n  }, [])\n\n  // core swap state\n  const [swapState, dispatchSwapState] = useReducer(swapStateReducer, initialSwapState)\n  const { independentValue, dependentValue, independentField, inputCurrency, outputCurrency } = swapState\n\n  const [recipient, setRecipient] = useState({ address: '', name: '' })\n  const [recipientError, setRecipientError] = useState()\n\n  // get swap type from the currency types\n  const swapType = getSwapType(inputCurrency, outputCurrency)\n\n  // get decimals and exchange addressfor each of the currency types\n  const { symbol: inputSymbol, decimals: inputDecimals, exchangeAddress: inputExchangeAddress } = useTokenDetails(\n    inputCurrency\n  )\n  const { symbol: outputSymbol, decimals: outputDecimals, exchangeAddress: outputExchangeAddress } = useTokenDetails(\n    outputCurrency\n  )\n\n  const inputExchangeContract = useExchangeContract(inputExchangeAddress)\n  const outputExchangeContract = useExchangeContract(outputExchangeAddress)\n  const contract = swapType === ETH_TO_TOKEN ? outputExchangeContract : inputExchangeContract\n\n  // get input allowance\n  const inputAllowance = useAddressAllowance(account, inputCurrency, inputExchangeAddress)\n\n  // fetch reserves for each of the currency types\n  const { reserveETH: inputReserveETH, reserveToken: inputReserveToken } = useExchangeReserves(inputCurrency)\n  const { reserveETH: outputReserveETH, reserveToken: outputReserveToken } = useExchangeReserves(outputCurrency)\n\n  // get balances for each of the currency types\n  const inputBalance = useAddressBalance(account, inputCurrency)\n  const outputBalance = useAddressBalance(account, outputCurrency)\n  const inputBalanceFormatted = !!(inputBalance && Number.isInteger(inputDecimals))\n    ? amountFormatter(inputBalance, inputDecimals, Math.min(4, inputDecimals))\n    : ''\n  const outputBalanceFormatted = !!(outputBalance && Number.isInteger(outputDecimals))\n    ? amountFormatter(outputBalance, outputDecimals, Math.min(4, outputDecimals))\n    : ''\n\n  // compute useful transforms of the data above\n  const independentDecimals = independentField === INPUT ? inputDecimals : outputDecimals\n  const dependentDecimals = independentField === OUTPUT ? inputDecimals : outputDecimals\n\n  // declare/get parsed and formatted versions of input/output values\n  const [independentValueParsed, setIndependentValueParsed] = useState()\n  const dependentValueFormatted = !!(dependentValue && dependentDecimals)\n    ? amountFormatter(dependentValue, dependentDecimals, Math.min(4, dependentDecimals), false)\n    : ''\n  const inputValueParsed = independentField === INPUT ? independentValueParsed : dependentValue\n  const inputValueFormatted = independentField === INPUT ? independentValue : dependentValueFormatted\n  const outputValueParsed = independentField === OUTPUT ? independentValueParsed : dependentValue\n  const outputValueFormatted = independentField === OUTPUT ? independentValue : dependentValueFormatted\n\n  // validate + parse independent value\n  const [independentError, setIndependentError] = useState()\n  useEffect(() => {\n    if (independentValue && independentDecimals) {\n      try {\n        const parsedValue = ethers.utils.parseUnits(independentValue, independentDecimals)\n\n        if (parsedValue.lte(ethers.constants.Zero) || parsedValue.gte(ethers.constants.MaxUint256)) {\n          throw Error()\n        } else {\n          setIndependentValueParsed(parsedValue)\n          setIndependentError(null)\n        }\n      } catch {\n        setIndependentError(t('inputNotValid'))\n      }\n\n      return () => {\n        setIndependentValueParsed()\n        setIndependentError()\n      }\n    }\n  }, [independentValue, independentDecimals, t])\n\n  // calculate slippage from target rate\n  const { minimum: dependentValueMinumum, maximum: dependentValueMaximum } = calculateSlippageBounds(\n    dependentValue,\n    swapType === TOKEN_TO_TOKEN\n  )\n\n  // validate input allowance + balance\n  const [inputError, setInputError] = useState()\n  const [showUnlock, setShowUnlock] = useState(false)\n  useEffect(() => {\n    const inputValueCalculation = independentField === INPUT ? independentValueParsed : dependentValueMaximum\n\n    if (inputBalance && (inputAllowance || inputCurrency === 'ETH') && inputValueCalculation) {\n      if (inputBalance.lt(inputValueCalculation)) {\n        setInputError(t('insufficientBalance'))\n      } else if (inputCurrency !== 'ETH' && inputAllowance.lt(inputValueCalculation)) {\n        setInputError(t('unlockTokenCont'))\n        setShowUnlock(true)\n      } else {\n        setInputError(null)\n        setShowUnlock(false)\n      }\n\n      return () => {\n        setInputError()\n        setShowUnlock(false)\n      }\n    }\n  }, [independentField, independentValueParsed, dependentValueMaximum, inputBalance, inputCurrency, inputAllowance, t])\n\n  // calculate dependent value\n  useEffect(() => {\n    const amount = independentValueParsed\n\n    if (swapType === ETH_TO_TOKEN) {\n      const reserveETH = outputReserveETH\n      const reserveToken = outputReserveToken\n\n      if (amount && reserveETH && reserveToken) {\n        try {\n          const calculatedDependentValue =\n            independentField === INPUT\n              ? calculateEtherTokenOutputFromInput(amount, reserveETH, reserveToken)\n              : calculateEtherTokenInputFromOutput(amount, reserveETH, reserveToken)\n\n          if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n            throw Error()\n          }\n\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n        } catch {\n          setIndependentError(t('insufficientLiquidity'))\n        }\n        return () => {\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n        }\n      }\n    } else if (swapType === TOKEN_TO_ETH) {\n      const reserveETH = inputReserveETH\n      const reserveToken = inputReserveToken\n\n      if (amount && reserveETH && reserveToken) {\n        try {\n          const calculatedDependentValue =\n            independentField === INPUT\n              ? calculateEtherTokenOutputFromInput(amount, reserveToken, reserveETH)\n              : calculateEtherTokenInputFromOutput(amount, reserveToken, reserveETH)\n\n          if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n            throw Error()\n          }\n\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n        } catch {\n          setIndependentError(t('insufficientLiquidity'))\n        }\n        return () => {\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n        }\n      }\n    } else if (swapType === TOKEN_TO_TOKEN) {\n      const reserveETHFirst = inputReserveETH\n      const reserveTokenFirst = inputReserveToken\n\n      const reserveETHSecond = outputReserveETH\n      const reserveTokenSecond = outputReserveToken\n\n      if (amount && reserveETHFirst && reserveTokenFirst && reserveETHSecond && reserveTokenSecond) {\n        try {\n          if (independentField === INPUT) {\n            const intermediateValue = calculateEtherTokenOutputFromInput(amount, reserveTokenFirst, reserveETHFirst)\n            if (intermediateValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            const calculatedDependentValue = calculateEtherTokenOutputFromInput(\n              intermediateValue,\n              reserveETHSecond,\n              reserveTokenSecond\n            )\n            if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n          } else {\n            const intermediateValue = calculateEtherTokenInputFromOutput(amount, reserveETHSecond, reserveTokenSecond)\n            if (intermediateValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            // console.log('hi!', amountFormatter(intermediateValue, ))\n            const calculatedDependentValue = calculateEtherTokenInputFromOutput(\n              intermediateValue,\n              reserveTokenFirst,\n              reserveETHFirst\n            )\n            if (calculatedDependentValue.lte(ethers.constants.Zero)) {\n              throw Error()\n            }\n            dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: calculatedDependentValue })\n          }\n        } catch {\n          setIndependentError(t('insufficientLiquidity'))\n        }\n        return () => {\n          dispatchSwapState({ type: 'UPDATE_DEPENDENT', payload: '' })\n        }\n      }\n    }\n  }, [\n    independentValueParsed,\n    swapType,\n    outputReserveETH,\n    outputReserveToken,\n    inputReserveETH,\n    inputReserveToken,\n    independentField,\n    t\n  ])\n\n  const [inverted, setInverted] = useState(false)\n  const exchangeRate = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals)\n  const exchangeRateInverted = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals, true)\n\n  const marketRate = getMarketRate(\n    swapType,\n    inputReserveETH,\n    inputReserveToken,\n    inputDecimals,\n    outputReserveETH,\n    outputReserveToken,\n    outputDecimals\n  )\n\n  const percentSlippage =\n    exchangeRate && marketRate\n      ? exchangeRate\n          .sub(marketRate)\n          .abs()\n          .mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(18)))\n          .div(marketRate)\n          .sub(ethers.utils.bigNumberify(3).mul(ethers.utils.bigNumberify(10).pow(ethers.utils.bigNumberify(15))))\n      : undefined\n  const percentSlippageFormatted = percentSlippage && amountFormatter(percentSlippage, 16, 2)\n  const slippageWarning =\n    percentSlippage &&\n    percentSlippage.gte(ethers.utils.parseEther('.05')) &&\n    percentSlippage.lt(ethers.utils.parseEther('.2')) // [5% - 20%)\n  const highSlippageWarning = percentSlippage && percentSlippage.gte(ethers.utils.parseEther('.2')) // [20+%\n\n  const isValid = exchangeRate && inputError === null && independentError === null && recipientError === null\n\n  const estimatedText = `(${t('estimated')})`\n  function formatBalance(value) {\n    return `Balance: ${value}`\n  }\n\n  function renderTransactionDetails() {\n    ReactGA.event({\n      category: 'TransactionDetail',\n      action: 'Open'\n    })\n\n    const b = text => <BlueSpan>{text}</BlueSpan>\n\n    if (independentField === INPUT) {\n      return (\n        <div>\n          <div>\n            {t('youAreSelling')}{' '}\n            {b(\n              `${amountFormatter(\n                independentValueParsed,\n                independentDecimals,\n                Math.min(4, independentDecimals)\n              )} ${inputSymbol}`\n            )}\n            .\n          </div>\n          <LastSummaryText>\n            {b(recipient.address)} {t('willReceive')}{' '}\n            {b(\n              `${amountFormatter(\n                dependentValueMinumum,\n                dependentDecimals,\n                Math.min(4, dependentDecimals)\n              )} ${outputSymbol}`\n            )}{' '}\n            {t('orTransFail')}\n          </LastSummaryText>\n          <LastSummaryText>\n            {(slippageWarning || highSlippageWarning) && (\n              <span role=\"img\" aria-label=\"warning\">\n                ⚠️\n              </span>\n            )}\n            {t('priceChange')} {b(`${percentSlippageFormatted}%`)}.\n          </LastSummaryText>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <div>\n            {t('youAreSending')}{' '}\n            {b(\n              `${amountFormatter(\n                independentValueParsed,\n                independentDecimals,\n                Math.min(4, independentDecimals)\n              )} ${outputSymbol}`\n            )}{' '}\n            {t('to')} {b(recipient.address)}.\n          </div>\n          <LastSummaryText>\n            {t('itWillCost')}{' '}\n            {b(\n              `${amountFormatter(\n                dependentValueMaximum,\n                dependentDecimals,\n                Math.min(4, dependentDecimals)\n              )} ${inputSymbol}`\n            )}{' '}\n            {t('orTransFail')}\n          </LastSummaryText>\n          <LastSummaryText>\n            {t('priceChange')} {b(`${percentSlippageFormatted}%`)}.\n          </LastSummaryText>\n        </div>\n      )\n    }\n  }\n\n  function renderSummary() {\n    let contextualInfo = ''\n    let isError = false\n\n    if (inputError || independentError) {\n      contextualInfo = inputError || independentError\n      isError = true\n    } else if (!inputCurrency || !outputCurrency) {\n      contextualInfo = t('selectTokenCont')\n    } else if (!independentValue) {\n      contextualInfo = t('enterValueCont')\n    } else if (!recipient.address) {\n      contextualInfo = t('noRecipient')\n    } else if (!isAddress(recipient.address)) {\n      contextualInfo = t('invalidRecipient')\n    } else if (!account) {\n      contextualInfo = t('noWallet')\n      isError = true\n    }\n\n    const slippageWarningText = highSlippageWarning\n      ? t('highSlippageWarning')\n      : slippageWarning\n      ? t('slippageWarning')\n      : ''\n\n    return (\n      <NewContextualInfo\n        openDetailsText={t('transactionDetails')}\n        closeDetailsText={t('hideDetails')}\n        contextualInfo={contextualInfo ? contextualInfo : slippageWarningText}\n        allowExpand={!!(inputCurrency && outputCurrency && inputValueParsed && outputValueParsed && recipient.address)}\n        isError={isError}\n        slippageWarning={slippageWarning && slippageWarningText}\n        highSlippageWarning={highSlippageWarning && slippageWarningText}\n        renderTransactionDetails={renderTransactionDetails}\n      />\n    )\n  }\n\n  async function onSwap() {\n    const deadline = Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW\n\n    let estimate, method, args, value\n    if (independentField === INPUT) {\n      ReactGA.event({\n        category: `${swapType}`,\n        action: 'TransferInput'\n      })\n\n      if (swapType === ETH_TO_TOKEN) {\n        estimate = contract.estimate.ethToTokenTransferInput\n        method = contract.ethToTokenTransferInput\n        args = [dependentValueMinumum, deadline, recipient.address]\n        value = independentValueParsed\n      } else if (swapType === TOKEN_TO_ETH) {\n        estimate = contract.estimate.tokenToEthTransferInput\n        method = contract.tokenToEthTransferInput\n        args = [independentValueParsed, dependentValueMinumum, deadline, recipient.address]\n        value = ethers.constants.Zero\n      } else if (swapType === TOKEN_TO_TOKEN) {\n        estimate = contract.estimate.tokenToTokenTransferInput\n        method = contract.tokenToTokenTransferInput\n        args = [\n          independentValueParsed,\n          dependentValueMinumum,\n          ethers.constants.One,\n          deadline,\n          recipient.address,\n          outputCurrency\n        ]\n        value = ethers.constants.Zero\n      }\n    } else if (independentField === OUTPUT) {\n      ReactGA.event({\n        category: `${swapType}`,\n        action: 'TransferOutput'\n      })\n\n      if (swapType === ETH_TO_TOKEN) {\n        estimate = contract.estimate.ethToTokenTransferOutput\n        method = contract.ethToTokenTransferOutput\n        args = [independentValueParsed, deadline, recipient.address]\n        value = dependentValueMaximum\n      } else if (swapType === TOKEN_TO_ETH) {\n        estimate = contract.estimate.tokenToEthTransferOutput\n        method = contract.tokenToEthTransferOutput\n        args = [independentValueParsed, dependentValueMaximum, deadline, recipient.address]\n        value = ethers.constants.Zero\n      } else if (swapType === TOKEN_TO_TOKEN) {\n        estimate = contract.estimate.tokenToTokenTransferOutput\n        method = contract.tokenToTokenTransferOutput\n        args = [\n          independentValueParsed,\n          dependentValueMaximum,\n          ethers.constants.MaxUint256,\n          deadline,\n          recipient.address,\n          outputCurrency\n        ]\n        value = ethers.constants.Zero\n      }\n    }\n\n    const estimatedGasLimit = await estimate(...args, { value })\n    method(...args, { value, gasLimit: calculateGasMargin(estimatedGasLimit, GAS_MARGIN) }).then(response => {\n      addTransaction(response)\n    })\n  }\n\n  return (\n    <>\n      <CurrencyInputPanel\n        title={t('input')}\n        description={inputValueFormatted && independentField === OUTPUT ? estimatedText : ''}\n        extraText={inputBalanceFormatted && formatBalance(inputBalanceFormatted)}\n        extraTextClickHander={() => {\n          if (inputBalance && inputDecimals) {\n            const valueToSet = inputCurrency === 'ETH' ? inputBalance.sub(ethers.utils.parseEther('.1')) : inputBalance\n            if (valueToSet.gt(ethers.constants.Zero)) {\n              dispatchSwapState({\n                type: 'UPDATE_INDEPENDENT',\n                payload: { value: amountFormatter(valueToSet, inputDecimals, inputDecimals, false), field: INPUT }\n              })\n            }\n          }\n        }}\n        onCurrencySelected={inputCurrency => {\n          dispatchSwapState({ type: 'SELECT_CURRENCY', payload: { currency: inputCurrency, field: INPUT } })\n        }}\n        onValueChange={inputValue => {\n          dispatchSwapState({ type: 'UPDATE_INDEPENDENT', payload: { value: inputValue, field: INPUT } })\n        }}\n        showUnlock={showUnlock}\n        selectedTokens={[inputCurrency, outputCurrency]}\n        selectedTokenAddress={inputCurrency}\n        value={inputValueFormatted}\n        errorMessage={inputError ? inputError : independentField === INPUT ? independentError : ''}\n      />\n      <OversizedPanel>\n        <DownArrowBackground>\n          <DownArrow\n            onClick={() => {\n              dispatchSwapState({ type: 'FLIP_INDEPENDENT' })\n            }}\n            clickable\n            alt=\"swap\"\n            src={isValid ? ArrowDownBlue : ArrowDownGrey}\n          />\n        </DownArrowBackground>\n      </OversizedPanel>\n      <CurrencyInputPanel\n        title={t('output')}\n        description={outputValueFormatted && independentField === INPUT ? estimatedText : ''}\n        extraText={outputBalanceFormatted && formatBalance(outputBalanceFormatted)}\n        onCurrencySelected={outputCurrency => {\n          dispatchSwapState({ type: 'SELECT_CURRENCY', payload: { currency: outputCurrency, field: OUTPUT } })\n        }}\n        onValueChange={outputValue => {\n          dispatchSwapState({ type: 'UPDATE_INDEPENDENT', payload: { value: outputValue, field: OUTPUT } })\n        }}\n        selectedTokens={[inputCurrency, outputCurrency]}\n        selectedTokenAddress={outputCurrency}\n        value={outputValueFormatted}\n        errorMessage={independentField === OUTPUT ? independentError : ''}\n        disableUnlock\n      />\n      <OversizedPanel>\n        <DownArrowBackground>\n          <DownArrow src={isValid ? ArrowDownBlue : ArrowDownGrey} alt=\"arrow\" />\n        </DownArrowBackground>\n      </OversizedPanel>\n      <AddressInputPanel onChange={setRecipient} onError={setRecipientError} />\n      <OversizedPanel hideBottom>\n        <ExchangeRateWrapper\n          onClick={() => {\n            setInverted(inverted => !inverted)\n          }}\n        >\n          <ExchangeRate>{t('exchangeRate')}</ExchangeRate>\n          {inverted ? (\n            <span>\n              {exchangeRate\n                ? `1 ${outputSymbol} = ${amountFormatter(exchangeRateInverted, 18, 4, false)} ${inputSymbol}`\n                : ' - '}\n            </span>\n          ) : (\n            <span>\n              {exchangeRate\n                ? `1 ${inputSymbol} = ${amountFormatter(exchangeRate, 18, 4, false)} ${outputSymbol}`\n                : ' - '}\n            </span>\n          )}\n        </ExchangeRateWrapper>\n      </OversizedPanel>\n      {renderSummary()}\n      <Flex>\n        <Button disabled={!isValid} onClick={onSwap} warning={highSlippageWarning}>\n          {highSlippageWarning ? t('sendAnyway') : t('send')}\n        </Button>\n      </Flex>\n    </>\n  )\n}\n"],"sourceRoot":""}